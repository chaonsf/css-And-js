<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			 *{
		     	margin:0;
		     	padding:0;
		     }
			.box{
				width:100%;
				height:200px;
				background:aqua;
				font-size:50px;
				text-align: center;
				line-height: 200px;
			}
			.box1{
				width:100%;
				height:300px;
				background:red;
			}
			.box2{
				width:100%;
				height:500px;
				background:yellow;
			}
			.box3{
				width:100%;
				height:400px;
				background:blue;
			}
			.box4{
				width:100%;
				height:300px;
				background:green;
			}
			.box5{
				width:100%;
				height:500px;
				background: blueviolet;
			}
			.box6{
				width:100%;
				height:300px;
				background:pink;
				font-size:50px;
				text-align: center;
				line-height: 200px;
			}
			.box7{
				width:30px;
				background:#ccc;
				position:fixed;
				top:50px;
				left:20px;
				cursor: pointer;
				display: none;
			}
			ul li{
				list-style: none;
				height:30px;
				border-bottom:1px solid #008000;
				line-height:30px;
				text-align: center;
			}
			ul li:hover{
				background:red;
			}
			.haha{
				background:red;
			}
		</style>
	</head>
	<body>
		<div class="box">header</div>
			<div class="box1 pox"></div>
			<div class="box2 pox"></div>
			<div class="box3 pox"></div>
			<div class="box4 pox"></div>
			<div class="box5 pox"></div>
			<div class="box6 pox">footer</div>
			<div class="box7">
				<ul>
					<li>1</li>
					<li>2</li>
					<li>3</li>
					<li>4</li>
					<li>5</li>
				</ul>
			</div>
	</body>
	<script type="text/javascript" src="js/jq.js"></script>
	<script>
		 $(function(){
  	 var boxHeight=$(".box").height();  //获取box的高度
  	 onOff=false;
  	 $(window).on("scroll",function(){
  	 	var scTop=$(window).scrollTop();
  	 	if(scTop>=boxHeight){
  	 		$(".box7").fadeIn();
  	 	}else{
  	 		$(".box7").fadeOut();
  	 	}
  	 	
  	 	if(!onOff){
  	 		$(".pox").each(function(index,element){
  	 			var _top=$(this).offset().top;
  	 			if(scTop>=_top){
  	 				$(".box7 li").eq(index).addClass("haha").siblings().removeClass("haha")
  	 			}
  	 		})
  	 	}
  	 	
  	 })
  	 $(".box7 li").not(".haha").on("click",function(){
  	 	onOff=true;
  	   var index=$(this).index();	
  	 	_top=$(".pox").eq(index).offset().top;
  	 	$(this).addClass($(".haha")).siblings().removeClass("haha");
  	 	$("html,body").animate({
  	 		"scrollTop":_top
  	 	},400,function(){
  	 		onOff=false;
  	 	})
  	 })
  	 
  })
	</script>
</html>
